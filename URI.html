<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Crystal Docs 0.31.1">

<link href="css/style.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="js/doc.js"></script>

<svg class="hidden">
  <symbol id="octicon-link" viewBox="0 0 16 16">
    <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
  </symbol>
</svg>

  <meta id="repository-name" content="github.com/vladfaust/http-params-serializable">
  <title>URI - github.com/vladfaust/http-params-serializable</title>
  <script type="text/javascript">
    CrystalDoc.base_path = "";
  </script>
</head>
<body>

<div class="sidebar">
  <div class="sidebar-header">
    <div class="search-box">
      <input type="search" class="search-input" placeholder="Search..." spellcheck="false" aria-label="Search">
    </div>

    <div class="repository-links">
      <a href="index.html">README</a>
    </div>
  </div>

  <div class="search-results" class="hidden">
    <ul class="search-list"></ul>
  </div>

  <div class="types-list">
    <ul>
  
  <li class="parent " data-id="github.com/vladfaust/http-params-serializable/HTTP" data-name="http">
      <a href="HTTP.html">HTTP</a>
      
        <ul>
  
  <li class=" " data-id="github.com/vladfaust/http-params-serializable/HTTP/Param" data-name="http::param">
      <a href="HTTP/Param.html">Param</a>
      
    </li>
  
  <li class="parent " data-id="github.com/vladfaust/http-params-serializable/HTTP/Params" data-name="http::params">
      <a href="HTTP/Params.html">Params</a>
      
        <ul>
  
  <li class="parent " data-id="github.com/vladfaust/http-params-serializable/HTTP/Params/Serializable" data-name="http::params::serializable">
      <a href="HTTP/Params/Serializable.html">Serializable</a>
      
        <ul>
  
  <li class=" " data-id="github.com/vladfaust/http-params-serializable/HTTP/Params/Serializable/EmptyIndexForNonScalarArrayParamError" data-name="http::params::serializable::emptyindexfornonscalararrayparamerror">
      <a href="HTTP/Params/Serializable/EmptyIndexForNonScalarArrayParamError.html">EmptyIndexForNonScalarArrayParamError</a>
      
    </li>
  
  <li class=" " data-id="github.com/vladfaust/http-params-serializable/HTTP/Params/Serializable/Error" data-name="http::params::serializable::error">
      <a href="HTTP/Params/Serializable/Error.html">Error</a>
      
    </li>
  
  <li class=" " data-id="github.com/vladfaust/http-params-serializable/HTTP/Params/Serializable/ExplicitKeyForNonScalarParam" data-name="http::params::serializable::explicitkeyfornonscalarparam">
      <a href="HTTP/Params/Serializable/ExplicitKeyForNonScalarParam.html">ExplicitKeyForNonScalarParam</a>
      
    </li>
  
  <li class=" " data-id="github.com/vladfaust/http-params-serializable/HTTP/Params/Serializable/InvalidParamIndexError" data-name="http::params::serializable::invalidparamindexerror">
      <a href="HTTP/Params/Serializable/InvalidParamIndexError.html">InvalidParamIndexError</a>
      
    </li>
  
  <li class=" " data-id="github.com/vladfaust/http-params-serializable/HTTP/Params/Serializable/NestedContentForScalarParamError" data-name="http::params::serializable::nestedcontentforscalarparamerror">
      <a href="HTTP/Params/Serializable/NestedContentForScalarParamError.html">NestedContentForScalarParamError</a>
      
    </li>
  
  <li class=" " data-id="github.com/vladfaust/http-params-serializable/HTTP/Params/Serializable/ParamIndexOutOfBoundsError" data-name="http::params::serializable::paramindexoutofboundserror">
      <a href="HTTP/Params/Serializable/ParamIndexOutOfBoundsError.html">ParamIndexOutOfBoundsError</a>
      
    </li>
  
  <li class=" " data-id="github.com/vladfaust/http-params-serializable/HTTP/Params/Serializable/ParamMissingError" data-name="http::params::serializable::parammissingerror">
      <a href="HTTP/Params/Serializable/ParamMissingError.html">ParamMissingError</a>
      
    </li>
  
  <li class=" " data-id="github.com/vladfaust/http-params-serializable/HTTP/Params/Serializable/ParamTypeCastError" data-name="http::params::serializable::paramtypecasterror">
      <a href="HTTP/Params/Serializable/ParamTypeCastError.html">ParamTypeCastError</a>
      
    </li>
  
  <li class=" " data-id="github.com/vladfaust/http-params-serializable/HTTP/Params/Serializable/Scalar" data-name="http::params::serializable::scalar">
      <a href="HTTP/Params/Serializable/Scalar.html">Scalar</a>
      
    </li>
  
</ul>

      
    </li>
  
</ul>

      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="github.com/vladfaust/http-params-serializable/Time" data-name="time">
      <a href="Time.html">Time</a>
      
        <ul>
  
  <li class=" " data-id="github.com/vladfaust/http-params-serializable/Time/EpochConverter" data-name="time::epochconverter">
      <a href="Time/EpochConverter.html">EpochConverter</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="github.com/vladfaust/http-params-serializable/Tuple" data-name="tuple(*t)">
      <a href="Tuple.html">Tuple</a>
      
    </li>
  
  <li class=" current" data-id="github.com/vladfaust/http-params-serializable/URI" data-name="uri">
      <a href="URI.html">URI</a>
      
    </li>
  
</ul>

  </div>
</div>


<div class="main-content">
<h1 class="type-name">

  <span class="kind">class</span> URI

</h1>


  <ul class="superclass-hierarchy"><li class="superclass"><a href="URI.html">URI</a></li><li class="superclass">Reference</li><li class="superclass">Object</li></ul>




  <h2>
    <a id="overview" class="anchor" href="#overview">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Overview
  </h2>

  <p>This class represents a URI reference as defined by <a href="https://www.ietf.org/rfc/rfc3986.txt" target="_blank">RFC 3986: Uniform Resource Identifier
(URI): Generic Syntax</a>.</p>

<p>This class provides constructors for creating URI instances from
their components or by parsing their string forms and methods for accessing the various
components of an instance.</p>

<p>Basic example:</p>

<pre><code><span class="k">require</span> <span class="s">&quot;uri&quot;</span>

uri <span class="o">=</span> <span class="t">URI</span>.parse <span class="s">&quot;http://foo.com/posts?id=30&amp;limit=5#time=1305298413&quot;</span>
<span class="c"># =&gt; #&lt;URI:0x1003f1e40 @scheme=&quot;http&quot;, @host=&quot;foo.com&quot;, @port=nil, @path=&quot;/posts&quot;, @query=&quot;id=30&amp;limit=5&quot;, ... &gt;</span>
uri.scheme <span class="c"># =&gt; &quot;http&quot;</span>
uri.host   <span class="c"># =&gt; &quot;foo.com&quot;</span>
uri.query  <span class="c"># =&gt; &quot;id=30&amp;limit=5&quot;</span>
uri.to_s   <span class="c"># =&gt; &quot;http://foo.com/posts?id=30&amp;limit=5#time=1305298413&quot;</span></code></pre>

<h2><a id="resolution-and-relativization" class="anchor" href="#resolution-and-relativization">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Resolution and Relativization</h2>

<p><em>Resolution</em> is the process of resolving one URI against another, <em>base</em> URI.
The resulting URI is constructed from components of both URIs in the manner specified by
<a href="https://tools.ietf.org/html/rfc3986#section-5.2.2" target="_blank">RFC 3986 section 5.2</a>, taking components
from the base URI for those not specified in the original.
For hierarchical URIs, the path of the original is resolved against the path of the base
and then normalized. See <code>#resolve</code> for examples.</p>

<p><em>Relativization</em> is the inverse of resolution as that it procudes an URI that
resolves to the original when resolved against the base.</p>

<p>For normalized URIs, the following is true:</p>

<pre><code>a.relativize(a.resolve(b)) <span class="c"># =&gt; b</span>
a.resolve(a.relativize(b)) <span class="c"># =&gt; b</span></code></pre>

<p>This operation is often useful when constructing a document containing URIs that must
be made relative to the base URI of the document wherever possible.</p>

<h1><a id="url-encoding" class="anchor" href="#url-encoding">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>URL Encoding</h1>

<p>This class provides a number of methods for encoding and decoding strings using
URL Encoding (also known as Percent Encoding) as defined in <a href="https://www.ietf.org/rfc/rfc3986.txt" target="_blank">RFC 3986</a>
as well as <a href="https://url.spec.whatwg.org/#urlencoded-serializing" target="_blank"><code>x-www-form-urlencoded</code></a>.</p>

<p>Each method has two variants, one returns a string, the other writes directly
to an IO.</p>

<ul><li><code>.decode(string : String, *, plus_to_space : Bool = false) : String</code>: Decodes a URL-encoded string.</li><li><code>.decode(string : String, io : IO, *, plus_to_space : Bool = false) : Nil</code>: Decodes a URL-encoded string to an IO.</li><li><code>.encode(string : String, *, space_to_plus : Bool = false) : String</code>: URL-encodes a string.</li><li><code>.encode(string : String, io : IO, *, space_to_plus : Bool = false) : Nil</code>: URL-encodes a string to an IO.</li><li><code>.decode_www_form(string : String, *, plus_to_space : Bool = true) : String</code>: Decodes an <code>x-www-form-urlencoded</code> string component.</li><li><code>.decode_www_form(string : String, io : IO, *, plus_to_space : Bool = true) : Nil</code>: Decodes an <code>x-www-form-urlencoded</code> string component to an IO.</li><li><code>.encode_www_form(string : String, *, space_to_plus : Bool = true) : String</code>: Encodes a string as a <code>x-www-form-urlencoded</code> component.</li><li><code>.encode_www_form(string : String, io : IO, *, space_to_plus : Bool = true) : Nil</code>: Encodes a string as a <code>x-www-form-urlencoded</code> component to an IO.</li></ul>

<p>The main difference is that <code>.encode_www_form</code> encodes reserved characters
(see <code>.reserved?</code>), while <code>.encode</code> does not. The decode methods are
identical except for the handling of <code>+</code> characters.</p>

<p><span class="flag purple">NOTE</span>  <code><a href="HTTP/Params.html">HTTP::Params</a></code> provides a higher-level API for handling <code>x-www-form-urlencoded</code>
serialized data.</p>














  <h2>
    <a id="defined-in" class="anchor" href="#defined-in">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Defined in:
  </h2>
  
    
      <a href="https://github.com/vladfaust/http-params-serializable/blob/cf36c294e665dbb7b1026a15304853cc838f149b/src/http-params-serializable/ext/uri.cr#L5" target="_blank">
        http-params-serializable/ext/uri.cr
      </a>
    
    <br/>
  







  <h2>
    <a id="class-method-summary" class="anchor" href="#class-method-summary">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Class Method Summary
  </h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#from_http_param(value:String)-class-method" class="signature"><strong>.from_http_param</strong>(value : String)</a>
        
          <div class="summary"><p>Parse <code><a href="URI.html">URI</a></code> from an HTTP param.</p></div>
        
      </li>
    
  </ul>



  <h2>
    <a id="instance-method-summary" class="anchor" href="#instance-method-summary">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Instance Method Summary
  </h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#to_http_param(builder:HTTP::Params::Builder,key:String)-instance-method" class="signature"><strong>#to_http_param</strong>(builder : HTTP::Params::Builder, key : String)</a>
        
          <div class="summary"><p>Put <code>self</code> as an HTTP param into the <em>builder</em> at <em>key</em>.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#to_http_param-instance-method" class="signature"><strong>#to_http_param</strong></a>
        
          <div class="summary"><p>Return <code>self</code> as an HTTP param string.</p></div>
        
      </li>
    
  </ul>





<div class="methods-inherited">
  
    


    


    


  
    


    


    


  
</div>




  <h2>
    <a id="class-method-detail" class="anchor" href="#class-method-detail">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Class Method Detail
  </h2>
  
    <div class="entry-detail" id="from_http_param(value:String)-class-method">
      <div class="signature">
        
        def self.<strong>from_http_param</strong>(value : String)

        <a class="method-permalink" href="#from_http_param(value:String)-class-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Parse <code><a href="URI.html">URI</a></code> from an HTTP param.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/vladfaust/http-params-serializable/blob/cf36c294e665dbb7b1026a15304853cc838f149b/src/http-params-serializable/ext/uri.cr#L17" target="_blank">View source</a>]
        
      </div>
    </div>
  



  <h2>
    <a id="instance-method-detail" class="anchor" href="#instance-method-detail">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Instance Method Detail
  </h2>
  
    <div class="entry-detail" id="to_http_param(builder:HTTP::Params::Builder,key:String)-instance-method">
      <div class="signature">
        
        def <strong>to_http_param</strong>(builder : HTTP::Params::Builder, key : String)

        <a class="method-permalink" href="#to_http_param(builder:HTTP::Params::Builder,key:String)-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Put <code>self</code> as an HTTP param into the <em>builder</em> at <em>key</em>.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/vladfaust/http-params-serializable/blob/cf36c294e665dbb7b1026a15304853cc838f149b/src/http-params-serializable/ext/uri.cr#L7" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="to_http_param-instance-method">
      <div class="signature">
        
        def <strong>to_http_param</strong>

        <a class="method-permalink" href="#to_http_param-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Return <code>self</code> as an HTTP param string.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/vladfaust/http-params-serializable/blob/cf36c294e665dbb7b1026a15304853cc838f149b/src/http-params-serializable/ext/uri.cr#L12" target="_blank">View source</a>]
        
      </div>
    </div>
  




</div>

</body>
</html>
